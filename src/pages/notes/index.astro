---
export const prerender = false; 

import Header from '../../components/header/index.astro';
import '../../style/index.css';
import { getSanityPosts } from '../../utils/getSanityPosts';

const posts = await getSanityPosts();
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Personal notes and thoughts on technology, programming, and life" />
  <meta name="author" content="Obiabo" />
  <meta property="og:title" content="Notes" />
  <meta property="og:description" content="Personal notes and thoughts on technology, programming, and life" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Notes" />
  <meta name="twitter:description" content="Personal notes and thoughts on technology, programming, and life" />
  <title>Notes</title>
  <link rel="stylesheet" href="/src/style/index.css" />
</head>
<body>

<Header title="Notes" />
<main class="max-w-4xl mx-auto px-4 py-8">
  <header class="mb-8">
    <h1 class="text-xl font-bold mb-4">
      <span class="text-default text-md">Welcome to my corner of the internet!</span>
    </h1>
    <p class="text-sn italic mb-6">
      This is where I share notes, thoughts, things I've tried and want to try, and personal experiences and learnings.
    </p>
    <p class="mb-8">
      Feel free to explore and learn something along the way.
    </p>
  </header>

  <section class="mb-12">
    <div class="space-y-6 ">
      {posts.map((post: {slug: {current: string}, title: string, description: string, publishedAt: string}) => (
        <div class="mt-4">
          <div>
            <h3 class="text-md italic font-medium mb-3">
              <a href={`/notes/${post.slug.current}`} class="text-default hover:underline">
                {post.title}
              </a>
            </h3>
            {post.description && (
              <p class="mb-4 text-sm italic">{post.description}</p>
            )}
            <p class="text-sm italic">
              Published on {post.publishedAt ? new Date(post.publishedAt).toLocaleDateString("en-US", { dateStyle: "long" }) : 'Unknown'}
            </p>
          </div>
        </div>
      ))}
    </div>
  </section>


  <footer class="mt-12 pt-8  text-center text-sm">
    <p class="text-gray-400">Stay cheesed up for this, drink some cup of water and do the calms</p>
  </footer>
</main>

</body>
</html>